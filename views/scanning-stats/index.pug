extends ../layout

block body

	div.row: div.col-md-12
		p.lead You can find your latest ranking by looking up your user ID in the tables below. Winners in each table will be awarded with a #[strong Â£20 Amazon voucher], along with a random raffle winner!

		- date = new Date(parseInt(updated)).toISOString().split('.')[0].replace('T', ' ')
		p: strong Last updated: #{date} GMT.
		p Rankings will be updated once more at the end of the project, at which point the winners will be announced!

	div.row
		div.col-md-6
			table#table-1.table.table-striped.table-hover
				thead
					tr: th Biggest Volume of Data
				tbody
					each scores, userId in users
						tr: td(data-order = scores.volume)
							span(style = 'font-family: monospace;')= userId
							| &nbsp;&nbsp;&nbsp;&nbsp;
							span.text-muted= scores.volume.toLocaleString()

		div.col-md-6
			table#table-2.table.table-striped.table-hover
				thead
					tr: th Most Unique Data Points
				tbody
					each scores, userId in users
						tr: td(data-order = scores.unique)
							span(style = 'font-family: monospace;')= userId
							| &nbsp;&nbsp;&nbsp;&nbsp;
							span.text-muted= scores.unique.toLocaleString()

	div.row: div.col-md-12
		p Note: you can find your user ID by opening the scanning app, opening the menu, and tapping "Display User ID". Each volunteer can win at most one prize. The actual prizes are as follows, and will be drawn in the following order: volunteer with the biggest volume of data; volunteer with the most unique data points #[em who hasn't already won a prize]; volunteer selected at random #[em who hasn't already won a prize].

block scripts

	script.
		$(document).ready(function () {
			$('#table-1').DataTable({
				paging: false,
				info: false,
				searching: false,
				order: [[0, 'desc']]
			});

			$('#table-2').DataTable({
				paging: false,
				info: false,
				searching: false,
				order: [[0, 'desc']]
			});
		});
